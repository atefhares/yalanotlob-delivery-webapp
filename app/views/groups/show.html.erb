<div class="container mt-5">
    <div class="row">
        <div class="col-12">
            <%= form_tag  groups_path do |form| %>
            <div class="active-purple-4 mb-4 d-flex">
                <%= text_field_tag(:name, nil, placeholder: "Group...", class: "form-control mx-2") %>
                <%= submit_tag "Create", class: "btn btn-info" %>
            </div>

            <% end %>
        </div>
        <div class="col-12 col-md-5 col-lg-5 mt-5">
            <div class="border-right border-left border-bottom border-dark px-4 bg-white">
                <h4 class="mb-3 text-warning">My Groups</h4>
                <table class="table">
                    <tbody>
                        <% @groups.each do |group| %>
                        <tr>
                            <td><%= group.name %></td>
                            <td><%= link_to 'Edit Group', group_path(group) %></td>
                            <td><%= link_to 'Delete Group', group_path(group), method: :delete, 
                                            groups: { confirm: 'Are you sure?' }%></td>
                        </tr>
                        <% end %>
                    </tbody>
                </table>
            </div>
        </div>
    
    
     <!-- Show group and its members-->
        
        <div class="col-12 col-md-7 col-lg-7 mt-5">
            <div class="border-right border-left border-bottom border-dark px-4 bg-white">
                <h4 class="mb-3 text-success"><%= @group.name%></h4>
                <% if flash[:group_member_errors]%>
                        <div class="alert alert-danger">
                            <% flash[:group_member_errors].each do |msg|%>
                            <li>
                                <%= msg %>
                            </li>
                            <% end %>
                        </div>
                    <% end %>
                <%= form_tag  groups_users_path do |form| %>
            <div class="active-purple-4 mb-4 d-flex">
               <%= hidden_field_tag(:group_id, @group.id) %>
                            <%= label_tag(:email, "Add friend", style:"margin-right:10px") %>
                            <%= email_field_tag(:email, nil,class: "form-control") %>
                            <%= submit_tag("Add", class: "btn btn-dark", style:"margin-left:30px") %>
            </div>

            <% end %>
            <table class="table">
                    <tbody>
                        <% @group_members.each do |user| %>
                        <tr>
                            <td><%= user.first_name %></td>
                            <td><%= link_to 'Delete', groups_user_path(group_id: @group, user_id: user), method: :delete, 
                                            groups: { confirm: 'Are you sure?' }%></td>
                        </tr>
                        <% end %>
                    </tbody>
                </table>
            </div>
            
        </div>
</div>
</div>